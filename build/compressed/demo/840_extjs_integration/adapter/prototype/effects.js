/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

String.prototype.parseColor=function(){var _b71="#";if(this.slice(0,4)=="rgb("){var cols=this.slice(4,this.length-1).split(",");var i=0;do{_b71+=parseInt(cols[i]).toColorPart();}while(++i<3);}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var i=1;i<4;i++){_b71+=(this.charAt(i)+this.charAt(i)).toLowerCase();}}if(this.length==7){_b71=this.toLowerCase();}}}return (_b71.length==7?_b71:(arguments[0]||this));};Element.collectTextNodes=function(_b74){return $A($(_b74).childNodes).collect(function(node){return (node.nodeType==3?node.nodeValue:(node.hasChildNodes()?Element.collectTextNodes(node):""));}).flatten().join("");};Element.collectTextNodesIgnoreClass=function(_b76,_b77){return $A($(_b76).childNodes).collect(function(node){return (node.nodeType==3?node.nodeValue:((node.hasChildNodes()&&!Element.hasClassName(node,_b77))?Element.collectTextNodesIgnoreClass(node,_b77):""));}).flatten().join("");};Element.setContentZoom=function(_b79,_b7a){_b79=$(_b79);_b79.setStyle({fontSize:(_b7a/100)+"em"});if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0);}return _b79;};Element.getOpacity=function(_b7b){return $(_b7b).getStyle("opacity");};Element.setOpacity=function(_b7c,_b7d){return $(_b7c).setStyle({opacity:_b7d});};Element.getInlineOpacity=function(_b7e){return $(_b7e).style.opacity||"";};Element.forceRerendering=function(_b7f){try{_b7f=$(_b7f);var n=document.createTextNode(" ");_b7f.appendChild(n);_b7f.removeChild(n);}catch(e){}};Array.prototype.call=function(){var args=arguments;this.each(function(f){f.apply(this,args);});};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},tagifyText:function(_b83){if(typeof Builder=="undefined"){throw ("Effect.tagifyText requires including script.aculo.us' builder.js library");}var _b84="position:relative";if(/MSIE/.test(navigator.userAgent)&&!window.opera){_b84+=";zoom:1";}_b83=$(_b83);$A(_b83.childNodes).each(function(_b85){if(_b85.nodeType==3){_b85.nodeValue.toArray().each(function(_b86){_b83.insertBefore(Builder.node("span",{style:_b84},_b86==" "?String.fromCharCode(160):_b86),_b85);});Element.remove(_b85);}});},multiple:function(_b87,_b88){var _b89;if(((typeof _b87=="object")||(typeof _b87=="function"))&&(_b87.length)){_b89=_b87;}else{_b89=$(_b87).childNodes;}var _b8a=Object.extend({speed:0.1,delay:0},arguments[2]||{});var _b8b=_b8a.delay;$A(_b89).each(function(_b8c,_b8d){new _b88(_b8c,Object.extend(_b8a,{delay:_b8d*_b8a.speed+_b8b}));});},PAIRS:{"slide":["SlideDown","SlideUp"],"blind":["BlindDown","BlindUp"],"appear":["Appear","Fade"]},toggle:function(_b8e,_b8f){_b8e=$(_b8e);_b8f=(_b8f||"appear").toLowerCase();var _b90=Object.extend({queue:{position:"end",scope:(_b8e.id||"global"),limit:1}},arguments[2]||{});Effect[_b8e.visible()?Effect.PAIRS[_b8f][1]:Effect.PAIRS[_b8f][0]](_b8e,_b90);}};var Effect2=Effect;Effect.Transitions={linear:Prototype.K,sinoidal:function(pos){return (-Math.cos(pos*Math.PI)/2)+0.5;},reverse:function(pos){return 1-pos;},flicker:function(pos){return ((-Math.cos(pos*Math.PI)/4)+0.75)+Math.random()/4;},wobble:function(pos){return (-Math.cos(pos*Math.PI*(9*pos))/2)+0.5;},pulse:function(pos,_b96){_b96=_b96||5;return (Math.round((pos%(1/_b96))*_b96)===0?((pos*_b96*2)-Math.floor(pos*_b96*2)):1-((pos*_b96*2)-Math.floor(pos*_b96*2)));},none:function(pos){return 0;},full:function(pos){return 1;}};Effect.ScopedQueue=Class.create();Object.extend(Object.extend(Effect.ScopedQueue.prototype,Enumerable),{initialize:function(){this.effects=[];this.interval=null;},_each:function(_b99){this.effects._each(_b99);},add:function(_b9a){var _b9b=new Date().getTime();var _b9c=(typeof _b9a.options.queue=="string")?_b9a.options.queue:_b9a.options.queue.position;switch(_b9c){case "front":this.effects.findAll(function(e){return e.state=="idle";}).each(function(e){e.startOn+=_b9a.finishOn;e.finishOn+=_b9a.finishOn;});break;case "with-last":_b9b=this.effects.pluck("startOn").max()||_b9b;break;case "end":_b9b=this.effects.pluck("finishOn").max()||_b9b;break;}_b9a.startOn+=_b9b;_b9a.finishOn+=_b9b;if(!_b9a.options.queue.limit||(this.effects.length<_b9a.options.queue.limit)){this.effects.push(_b9a);}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15);}},remove:function(_b9f){this.effects=this.effects.reject(function(e){return e==_b9f;});if(this.effects.length===0){clearInterval(this.interval);this.interval=null;}},loop:function(){var _ba1=new Date().getTime();for(var i=0,len=this.effects.length;i<len;i++){if(this.effects[i]){this.effects[i].loop(_ba1);}}}});Effect.Queues={instances:$H(),get:function(_ba3){if(typeof _ba3!="string"){return _ba3;}if(!this.instances[_ba3]){this.instances[_ba3]=new Effect.ScopedQueue();}return this.instances[_ba3];}};Effect.Queue=Effect.Queues.get("global");Effect.DefaultOptions={transition:Effect.Transitions.sinoidal,duration:1,fps:60,sync:false,from:0,to:1,delay:0,queue:"parallel"};Effect.Base=function(){};Effect.Base.prototype={position:null,start:function(_ba4){this.options=Object.extend(Object.extend({},Effect.DefaultOptions),_ba4||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).add(this);}},loop:function(_ba5){if(_ba5>=this.startOn){if(_ba5>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish();}this.event("afterFinish");return;}var pos=(_ba5-this.startOn)/(this.finishOn-this.startOn);var _ba7=Math.round(pos*this.options.fps*this.options.duration);if(_ba7>this.currentFrame){this.render(pos);this.currentFrame=_ba7;}}},render:function(pos){if(this.state=="idle"){this.state="running";this.event("beforeSetup");if(this.setup){this.setup();}this.event("afterSetup");}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos*=(this.options.to-this.options.from);pos+=this.options.from;this.position=pos;this.event("beforeUpdate");if(this.update){this.update(pos);}this.event("afterUpdate");}},cancel:function(){if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).remove(this);}this.state="finished";},event:function(_ba9){if(this.options[_ba9+"Internal"]){this.options[_ba9+"Internal"](this);}if(this.options[_ba9]){this.options[_ba9](this);}},inspect:function(){var data=$H();for(property in this){if(typeof this[property]!="function"){data[property]=this[property];}}return "#<Effect:"+data.inspect()+",options:"+$H(this.options).inspect()+">";}};Effect.Parallel=Class.create();Object.extend(Object.extend(Effect.Parallel.prototype,Effect.Base.prototype),{initialize:function(_bab){this.effects=_bab||[];this.start(arguments[1]);},update:function(_bac){this.effects.invoke("render",_bac);},finish:function(_bad){this.effects.each(function(_bae){_bae.render(1);_bae.cancel();_bae.event("beforeFinish");if(_bae.finish){_bae.finish(_bad);}_bae.event("afterFinish");});}});Effect.Event=Class.create();Object.extend(Object.extend(Effect.Event.prototype,Effect.Base.prototype),{initialize:function(){var _baf=Object.extend({duration:0},arguments[0]||{});this.start(_baf);},update:Prototype.emptyFunction});Effect.Opacity=Class.create();Object.extend(Object.extend(Effect.Opacity.prototype,Effect.Base.prototype),{initialize:function(_bb0){this.element=$(_bb0);if(!this.element){throw (Effect._elementDoesNotExistError);}if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}var _bb1=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(_bb1);},update:function(_bb2){this.element.setOpacity(_bb2);}});Effect.Move=Class.create();Object.extend(Object.extend(Effect.Move.prototype,Effect.Base.prototype),{initialize:function(_bb3){this.element=$(_bb3);if(!this.element){throw (Effect._elementDoesNotExistError);}var _bb4=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(_bb4);},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_bb5){this.element.setStyle({left:Math.round(this.options.x*_bb5+this.originalLeft)+"px",top:Math.round(this.options.y*_bb5+this.originalTop)+"px"});}});Effect.MoveBy=function(_bb6,_bb7,_bb8){return new Effect.Move(_bb6,Object.extend({x:_bb8,y:_bb7},arguments[3]||{}));};Effect.Scale=Class.create();Object.extend(Object.extend(Effect.Scale.prototype,Effect.Base.prototype),{initialize:function(_bb9,_bba){this.element=$(_bb9);if(!this.element){throw (Effect._elementDoesNotExistError);}var _bbb=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:_bba},arguments[2]||{});this.start(_bbb);},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(k){this.originalStyle[k]=this.element.style[k];}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var _bbd=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(_bbe){if(_bbd.indexOf(_bbe)>0){this.fontSize=parseFloat(_bbd);this.fontSizeType=_bbe;}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth];}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth];}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth];}},update:function(_bbf){var _bc0=(this.options.scaleFrom/100)+(this.factor*_bbf);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*_bc0+this.fontSizeType});}this.setDimensions(this.dims[0]*_bc0,this.dims[1]*_bc0);},finish:function(_bc1){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle);}},setDimensions:function(_bc2,_bc3){var d={};if(this.options.scaleX){d.width=Math.round(_bc3)+"px";}if(this.options.scaleY){d.height=Math.round(_bc2)+"px";}if(this.options.scaleFromCenter){var topd=(_bc2-this.dims[0])/2;var _bc6=(_bc3-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){d.top=this.originalTop-topd+"px";}if(this.options.scaleX){d.left=this.originalLeft-_bc6+"px";}}else{if(this.options.scaleY){d.top=-topd+"px";}if(this.options.scaleX){d.left=-_bc6+"px";}}}this.element.setStyle(d);}});Effect.Highlight=Class.create();Object.extend(Object.extend(Effect.Highlight.prototype,Effect.Base.prototype),{initialize:function(_bc7){this.element=$(_bc7);if(!this.element){throw (Effect._elementDoesNotExistError);}var _bc8=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(_bc8);},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return;}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"});}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff");}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color");}this._base=$R(0,2).map(function(i){return parseInt(this.options.startcolor.slice(i*2+1,i*2+3),16);}.bind(this));this._delta=$R(0,2).map(function(i){return parseInt(this.options.endcolor.slice(i*2+1,i*2+3),16)-this._base[i];}.bind(this));},update:function(_bcb){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(m,v,i){return m+(Math.round(this._base[i]+(this._delta[i]*_bcb)).toColorPart());}.bind(this))});},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}));}});Effect.ScrollTo=Class.create();Object.extend(Object.extend(Effect.ScrollTo.prototype,Effect.Base.prototype),{initialize:function(_bcf){this.element=$(_bcf);this.start(arguments[1]||{});},setup:function(){Position.prepare();var _bd0=Position.cumulativeOffset(this.element);if(this.options.offset){_bd0[1]+=this.options.offset;}var max=window.innerHeight?window.height-window.innerHeight:document.body.scrollHeight-(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight);this.scrollStart=Position.deltaY;this.delta=(_bd0[1]>max?max:_bd0[1])-this.scrollStart;},update:function(_bd2){Position.prepare();window.scrollTo(Position.deltaX,this.scrollStart+(_bd2*this.delta));}});Effect.Fade=function(_bd3){_bd3=$(_bd3);var _bd4=_bd3.getInlineOpacity();var _bd5=Object.extend({from:_bd3.getOpacity()||1,to:0,afterFinishInternal:function(_bd6){if(_bd6.options.to!=0){return;}_bd6.element.hide().setStyle({opacity:_bd4});}},arguments[1]||{});return new Effect.Opacity(_bd3,_bd5);};Effect.Appear=function(_bd7){_bd7=$(_bd7);var _bd8=Object.extend({from:(_bd7.getStyle("display")=="none"?0:_bd7.getOpacity()||0),to:1,afterFinishInternal:function(_bd9){_bd9.element.forceRerendering();},beforeSetup:function(_bda){_bda.element.setOpacity(_bda.options.from).show();}},arguments[1]||{});return new Effect.Opacity(_bd7,_bd8);};Effect.Puff=function(_bdb){_bdb=$(_bdb);var _bdc={opacity:_bdb.getInlineOpacity(),position:_bdb.getStyle("position"),top:_bdb.style.top,left:_bdb.style.left,width:_bdb.style.width,height:_bdb.style.height};return new Effect.Parallel([new Effect.Scale(_bdb,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(_bdb,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(_bdd){Position.absolutize(_bdd.effects[0].element);},afterFinishInternal:function(_bde){_bde.effects[0].element.hide().setStyle(_bdc);}},arguments[1]||{}));};Effect.BlindUp=function(_bdf){_bdf=$(_bdf);_bdf.makeClipping();return new Effect.Scale(_bdf,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(_be0){_be0.element.hide().undoClipping();}},arguments[1]||{}));};Effect.BlindDown=function(_be1){_be1=$(_be1);var _be2=_be1.getDimensions();return new Effect.Scale(_be1,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:_be2.height,originalWidth:_be2.width},restoreAfterFinish:true,afterSetup:function(_be3){_be3.element.makeClipping().setStyle({height:"0px"}).show();},afterFinishInternal:function(_be4){_be4.element.undoClipping();}},arguments[1]||{}));};Effect.SwitchOff=function(_be5){_be5=$(_be5);var _be6=_be5.getInlineOpacity();return new Effect.Appear(_be5,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(_be7){new Effect.Scale(_be7.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(_be8){_be8.element.makePositioned().makeClipping();},afterFinishInternal:function(_be9){_be9.element.hide().undoClipping().undoPositioned().setStyle({opacity:_be6});}});}},arguments[1]||{}));};Effect.DropOut=function(_bea){_bea=$(_bea);var _beb={top:_bea.getStyle("top"),left:_bea.getStyle("left"),opacity:_bea.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(_bea,{x:0,y:100,sync:true}),new Effect.Opacity(_bea,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(_bec){_bec.effects[0].element.makePositioned();},afterFinishInternal:function(_bed){_bed.effects[0].element.hide().undoPositioned().setStyle(_beb);}},arguments[1]||{}));};Effect.Shake=function(_bee){_bee=$(_bee);var _bef={top:_bee.getStyle("top"),left:_bee.getStyle("left")};return new Effect.Move(_bee,{x:20,y:0,duration:0.05,afterFinishInternal:function(_bf0){new Effect.Move(_bf0.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(_bf1){new Effect.Move(_bf1.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(_bf2){new Effect.Move(_bf2.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(_bf3){new Effect.Move(_bf3.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(_bf4){new Effect.Move(_bf4.element,{x:-20,y:0,duration:0.05,afterFinishInternal:function(_bf5){_bf5.element.undoPositioned().setStyle(_bef);}});}});}});}});}});}});};Effect.SlideDown=function(_bf6){_bf6=$(_bf6).cleanWhitespace();var _bf7=_bf6.down().getStyle("bottom");var _bf8=_bf6.getDimensions();return new Effect.Scale(_bf6,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:_bf8.height,originalWidth:_bf8.width},restoreAfterFinish:true,afterSetup:function(_bf9){_bf9.element.makePositioned();_bf9.element.down().makePositioned();if(window.opera){_bf9.element.setStyle({top:""});}_bf9.element.makeClipping().setStyle({height:"0px"}).show();},afterUpdateInternal:function(_bfa){_bfa.element.down().setStyle({bottom:(_bfa.dims[0]-_bfa.element.clientHeight)+"px"});},afterFinishInternal:function(_bfb){_bfb.element.undoClipping().undoPositioned();_bfb.element.down().undoPositioned().setStyle({bottom:_bf7});}},arguments[1]||{}));};Effect.SlideUp=function(_bfc){_bfc=$(_bfc).cleanWhitespace();var _bfd=_bfc.down().getStyle("bottom");return new Effect.Scale(_bfc,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,restoreAfterFinish:true,beforeStartInternal:function(_bfe){_bfe.element.makePositioned();_bfe.element.down().makePositioned();if(window.opera){_bfe.element.setStyle({top:""});}_bfe.element.makeClipping().show();},afterUpdateInternal:function(_bff){_bff.element.down().setStyle({bottom:(_bff.dims[0]-_bff.element.clientHeight)+"px"});},afterFinishInternal:function(_c00){_c00.element.hide().undoClipping().undoPositioned().setStyle({bottom:_bfd});_c00.element.down().undoPositioned();}},arguments[1]||{}));};Effect.Squish=function(_c01){return new Effect.Scale(_c01,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(_c02){_c02.element.makeClipping();},afterFinishInternal:function(_c03){_c03.element.hide().undoClipping();}});};Effect.Grow=function(_c04){_c04=$(_c04);var _c05=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var _c06={top:_c04.style.top,left:_c04.style.left,height:_c04.style.height,width:_c04.style.width,opacity:_c04.getInlineOpacity()};var dims=_c04.getDimensions();var _c08,initialMoveY;var _c09,moveY;switch(_c05.direction){case "top-left":_c08=initialMoveY=_c09=moveY=0;break;case "top-right":_c08=dims.width;initialMoveY=moveY=0;_c09=-dims.width;break;case "bottom-left":_c08=_c09=0;initialMoveY=dims.height;moveY=-dims.height;break;case "bottom-right":_c08=dims.width;initialMoveY=dims.height;_c09=-dims.width;moveY=-dims.height;break;case "center":_c08=dims.width/2;initialMoveY=dims.height/2;_c09=-dims.width/2;moveY=-dims.height/2;break;}return new Effect.Move(_c04,{x:_c08,y:initialMoveY,duration:0.01,beforeSetup:function(_c0a){_c0a.element.hide().makeClipping().makePositioned();},afterFinishInternal:function(_c0b){new Effect.Parallel([new Effect.Opacity(_c0b.element,{sync:true,to:1,from:0,transition:_c05.opacityTransition}),new Effect.Move(_c0b.element,{x:_c09,y:moveY,sync:true,transition:_c05.moveTransition}),new Effect.Scale(_c0b.element,100,{scaleMode:{originalHeight:dims.height,originalWidth:dims.width},sync:true,scaleFrom:window.opera?1:0,transition:_c05.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(_c0c){_c0c.effects[0].element.setStyle({height:"0px"}).show();},afterFinishInternal:function(_c0d){_c0d.effects[0].element.undoClipping().undoPositioned().setStyle(_c06);}},_c05));}});};Effect.Shrink=function(_c0e){_c0e=$(_c0e);var _c0f=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var _c10={top:_c0e.style.top,left:_c0e.style.left,height:_c0e.style.height,width:_c0e.style.width,opacity:_c0e.getInlineOpacity()};var dims=_c0e.getDimensions();var _c12,moveY;switch(_c0f.direction){case "top-left":_c12=moveY=0;break;case "top-right":_c12=dims.width;moveY=0;break;case "bottom-left":_c12=0;moveY=dims.height;break;case "bottom-right":_c12=dims.width;moveY=dims.height;break;case "center":_c12=dims.width/2;moveY=dims.height/2;break;}return new Effect.Parallel([new Effect.Opacity(_c0e,{sync:true,to:0,from:1,transition:_c0f.opacityTransition}),new Effect.Scale(_c0e,window.opera?1:0,{sync:true,transition:_c0f.scaleTransition,restoreAfterFinish:true}),new Effect.Move(_c0e,{x:_c12,y:moveY,sync:true,transition:_c0f.moveTransition})],Object.extend({beforeStartInternal:function(_c13){_c13.effects[0].element.makePositioned().makeClipping();},afterFinishInternal:function(_c14){_c14.effects[0].element.hide().undoClipping().undoPositioned().setStyle(_c10);}},_c0f));};Effect.Pulsate=function(_c15){_c15=$(_c15);var _c16=arguments[1]||{};var _c17=_c15.getInlineOpacity();var _c18=_c16.transition||Effect.Transitions.sinoidal;var _c19=function(pos){return _c18(1-Effect.Transitions.pulse(pos,_c16.pulses));};_c19.bind(_c18);return new Effect.Opacity(_c15,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(_c1b){_c1b.element.setStyle({opacity:_c17});}},_c16),{transition:_c19}));};Effect.Fold=function(_c1c){_c1c=$(_c1c);var _c1d={top:_c1c.style.top,left:_c1c.style.left,width:_c1c.style.width,height:_c1c.style.height};_c1c.makeClipping();return new Effect.Scale(_c1c,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(_c1e){new Effect.Scale(_c1c,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(_c1f){_c1f.element.hide().undoClipping().setStyle(_c1d);}});}},arguments[1]||{}));};Effect.Morph=Class.create();Object.extend(Object.extend(Effect.Morph.prototype,Effect.Base.prototype),{initialize:function(_c20){this.element=$(_c20);if(!this.element){throw (Effect._elementDoesNotExistError);}var _c21=Object.extend({style:{}},arguments[1]||{});if(typeof _c21.style=="string"){if(_c21.style.indexOf(":")==-1){var _c22="",selector="."+_c21.style;$A(document.styleSheets).reverse().each(function(_c23){if(_c23.cssRules){cssRules=_c23.cssRules;}else{if(_c23.rules){cssRules=_c23.rules;}}$A(cssRules).reverse().each(function(rule){if(selector==rule.selectorText){_c22=rule.style.cssText;throw $break;}});if(_c22){throw $break;}});this.style=_c22.parseStyle();_c21.afterFinishInternal=function(_c25){_c25.element.addClassName(_c25.options.style);_c25.transforms.each(function(_c26){if(_c26.style!="opacity"){_c25.element.style[_c26.style.camelize()]="";}});};}else{this.style=_c21.style.parseStyle();}}else{this.style=$H(_c21.style);}this.start(_c21);},setup:function(){function parseColor(_c27){if(!_c27||["rgba(0, 0, 0, 0)","transparent"].include(_c27)){_c27="#ffffff";}_c27=_c27.parseColor();return $R(0,2).map(function(i){return parseInt(_c27.slice(i*2+1,i*2+3),16);});}this.transforms=this.style.map(function(pair){var _c2a=pair[0].underscore().dasherize(),value=pair[1],unit=null;if(value.parseColor("#zzzzzz")!="#zzzzzz"){value=value.parseColor();unit="color";}else{if(_c2a=="opacity"){value=parseFloat(value);if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}}else{if(Element.CSS_LENGTH.test(value)){var _c2b=value.match(/^([\+\-]?[0-9\.]+)(.*)$/),value=parseFloat(_c2b[1]),unit=(_c2b.length==3)?_c2b[2]:null;}}}var _c2c=this.element.getStyle(_c2a);return $H({style:_c2a,originalValue:unit=="color"?parseColor(_c2c):parseFloat(_c2c||0),targetValue:unit=="color"?parseColor(value):value,unit:unit});}.bind(this)).reject(function(_c2d){return ((_c2d.originalValue==_c2d.targetValue)||(_c2d.unit!="color"&&(isNaN(_c2d.originalValue)||isNaN(_c2d.targetValue))));});},update:function(_c2e){var _c2f=$H(),value=null;this.transforms.each(function(_c30){value=_c30.unit=="color"?$R(0,2).inject("#",function(m,v,i){return m+(Math.round(_c30.originalValue[i]+(_c30.targetValue[i]-_c30.originalValue[i])*_c2e)).toColorPart();}):_c30.originalValue+Math.round(((_c30.targetValue-_c30.originalValue)*_c2e)*1000)/1000+_c30.unit;_c2f[_c30.style]=value;});this.element.setStyle(_c2f);}});Effect.Transform=Class.create();Object.extend(Effect.Transform.prototype,{initialize:function(_c34){this.tracks=[];this.options=arguments[1]||{};this.addTracks(_c34);},addTracks:function(_c35){_c35.each(function(_c36){var data=$H(_c36).values().first();this.tracks.push($H({ids:$H(_c36).keys().first(),effect:Effect.Morph,options:{style:data}}));}.bind(this));return this;},play:function(){return new Effect.Parallel(this.tracks.map(function(_c38){var _c39=[$(_c38.ids)||$$(_c38.ids)].flatten();return _c39.map(function(e){return new _c38.effect(e,Object.extend({sync:true},_c38.options));});}).flatten(),this.options);}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle "+"borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth "+"borderRightColor borderRightStyle borderRightWidth borderSpacing "+"borderTopColor borderTopStyle borderTopWidth bottom clip color "+"fontSize fontWeight height left letterSpacing lineHeight "+"marginBottom marginLeft marginRight marginTop markerOffset maxHeight "+"maxWidth minHeight minWidth opacity outlineColor outlineOffset "+"outlineWidth paddingBottom paddingLeft paddingRight paddingTop "+"right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.prototype.parseStyle=function(){var _c3b=Element.extend(document.createElement("div"));_c3b.innerHTML="<div style=\""+this+"\"></div>";var _c3c=_c3b.down().style,styleRules=$H();Element.CSS_PROPERTIES.each(function(_c3d){if(_c3c[_c3d]){styleRules[_c3d]=_c3c[_c3d];}});if(/MSIE/.test(navigator.userAgent)&&!window.opera&&this.indexOf("opacity")>-1){styleRules.opacity=this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1];}return styleRules;};Element.morph=function(_c3e,_c3f){new Effect.Morph(_c3e,Object.extend({style:_c3f},arguments[2]||{}));return _c3e;};["setOpacity","getOpacity","getInlineOpacity","forceRerendering","setContentZoom","collectTextNodes","collectTextNodesIgnoreClass","morph"].each(function(f){Element.Methods[f]=Element[f];});Element.Methods.visualEffect=function(_c41,_c42,_c43){s=_c42.gsub(/_/,"-").camelize();effect_class=s.charAt(0).toUpperCase()+s.substring(1);new Effect[effect_class](_c41,_c43);return $(_c41);};Element.addMethods();