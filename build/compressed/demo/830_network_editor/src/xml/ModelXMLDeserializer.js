/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

function removeTextNodes(_4cd){var _4ce=new draw2d.ArrayList();for(var i=0;i<_4cd.length;i++){var _4d0=_4cd.item(i);var _4d1=_4d0.nodeName;if(_4d1==="#text"){continue;}_4ce.add(_4d0);}return _4ce.asArray();}draw2d.ModelXMLDeserializer=function(){alert("do not init this class. Use the static methods instead");};draw2d.ModelXMLDeserializer.fromXML=function(node,_4d3,_4d4){var _4d5=""+node.nodeName;var _4d6=node.nodeValue;if(_4d6===null){if(node.nodeTypedValue){_4d6=node.nodeTypedValue;}else{_4d6=node.textContent;}}var obj=null;var _4d8=false;switch(_4d5.toLowerCase()){case "vnetwork":obj=new draw2d.VirtualNetworkCloudModel(node.getAttribute("id"));_4d4=obj;break;case "server":if(_4d3 instanceof draw2d.MountModel){obj=new draw2d.ServerReferenceModel(node.getAttribute("reference"));}else{if(_4d3 instanceof draw2d.NicModel){obj=new draw2d.ServerReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.ServerModel(node.getAttribute("id"));}}break;case "storage":if(_4d3 instanceof draw2d.MountModel){obj=new draw2d.StorageReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.StorageModel(node.getAttribute("id"));}break;case "switch":if(_4d3 instanceof draw2d.NicModel){obj=new draw2d.SwitchReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.SwitchModel(node.getAttribute("id"));}break;case "representation":obj=new draw2d.RepresentationModel();break;case "nics":obj=new draw2d.NicsModel();break;case "nic":if(_4d3 instanceof draw2d.SwitchModel){obj=new draw2d.NicReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.NicModel(node.getAttribute("id"));_4d3.addNicModel(obj);_4d8=true;}break;case "images":obj=new draw2d.ImagesModel();break;case "image":obj=new draw2d.ImageModel(node.getAttribute("id"));_4d3.addImageModel(obj);break;case "mount":var _4d9=removeTextNodes(node.childNodes);if(_4d9[0].nodeName==="server"){obj=new draw2d.MountModel(_4d9[1].getAttribute("reference"),_4d9[0].getAttribute("reference"),node.getAttribute("id"));}else{obj=new draw2d.MountModel(_4d9[0].getAttribute("reference"),_4d9[1].getAttribute("reference"),node.getAttribute("id"));}break;default:return _4d6;}if(_4d3!==undefined&&obj.setModelParent!==undefined){obj.setModelParent(_4d3);}var _4da=removeTextNodes(node.childNodes);var _4db=0;for(var i=0;i<_4da.length;i++){var _4dd=_4da[i];var _4de=_4dd.nodeName;if(obj instanceof Array){_4de=_4db;}var _4df=draw2d.ModelXMLDeserializer.fromXML(_4dd,obj instanceof draw2d.AbstractObjectModel?obj:_4d3,_4d4);if(_4df instanceof draw2d.AbstractCloudNodeModel&&obj instanceof draw2d.VirtualNetworkCloudModel){obj.addCloudNodeModel(_4df);}else{if(_4df instanceof draw2d.AbstractConnectionModel){_4df.getSourceModel().addConnectionModel(_4df);}else{obj[_4de]=_4df;}}_4db++;}var _4e0=node.attributes;for(var ii=0;ii<_4e0.length;ii++){var _4e2=_4e0.item(ii);obj[_4e2.nodeName]=_4e2.nodeValue;}if(_4d8===true){var _4e3=obj.getSwitchReferenceModel();var _4e4=obj.getServerReferenceModel();if(_4e3!==null){var sw=_4d4.getCloudNodeModel(_4e3.getReference());if(sw===null){sw=new draw2d.SwitchModel(_4e3.getReference());_4d4.addCloudNodeModel(sw);}if(_4e4!==null){var _4e6=obj.getModelParent().getModelParent();if(_4e6 instanceof draw2d.ServerModel){var con=new draw2d.NicConnectionModel(_4e6.getId(),sw.getId());con.nicModel=obj;_4e6.addConnectionModel(con);}}}}return obj;};